<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trail Notes</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .placeholder-img {
      max-width: 100%;
      border-radius: 10px;
      margin-top: 1rem;
    }
    .trail-card {
      background-color: #fff;
      border-radius: 12px;
      padding: 2rem;
      max-width: 900px;
      margin: 2rem auto;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .trail-card img {
      width: 100%;
      height: auto;
      border-radius: 12px;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <header>
    <a href="index.html"><img src="/images/trek4free-logo.png" alt="Trek4Free Logo" style="height: 50px;"></a>
    <nav>
      <a href="index.html">Home</a>
      <a href="explore.html">Map</a>
      <a href="top-hikes-texas.html">Top Hikes</a>
    </nav>
  </header>

  <main class="container">
    <h1>Trail Notes</h1>
    <div id="trail-container" class="trail-card">
      <h2>Loading...</h2>
    </div>
  </main>

  <footer>
    &copy; 2025 Trek4Free. All rights reserved.
  </footer>

  <script>
    const defaultTrailId = 1; // Fallback if no id in URL
    const params = new URLSearchParams(window.location.search);
    const trailId = params.has('id') ? parseInt(params.get('id')) : defaultTrailId;

    fetch('data/trail_cards.json')
      .then(res => res.json())
      .then(data => {
        const trail = data.find(t => t.id === trailId);
        const container = document.getElementById('trail-container');

        if (!trail) {
          container.innerHTML = "<h2>Trail Not Found</h2><p>Try returning to the map and selecting another trail.</p>";
          return;
        }

        container.innerHTML = `
          <h2>${trail.name || 'Unnamed Trail'}</h2>
          <p><strong>Location:</strong> ${trail.city || 'N/A'}, ${trail.state || 'N/A'}</p>
          <p><strong>Activity:</strong> ${trail.category || 'N/A'}</p>
          <p><strong>Difficulty:</strong> ${trail.difficulty || 'N/A'}</p>
          <p><strong>Length:</strong> ${trail.length || 'N/A'}</p>
          <img src="${trail.image || '/images/placeholder.png'}" alt="${trail.name}" onerror="this.src='/images/placeholder.png'" />
        `;
      })
      .catch(err => {
        console.error("Error loading trail data:", err);
        document.getElementById('trail-container').innerHTML = "<h2>Error loading trail data.</h2>";
      });
  </script>
</body>
</html>

